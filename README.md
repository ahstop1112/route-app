This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app). 

## Route Google Map App - Perry Cheung

In the project directory, you can run:

### `yarn start`
Runs the app in the development mode.<br>
Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

### `yarn build`
Builds the app for production to the `build` folder.<br>
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.<br>
Your app is ready to be deployed!

### `yarn test`
Runs the test watcher in an interactive mode.
By default, runs tests related to files changed since the last commit.

## Project Description
It is a simple Route App which is using Google Map API and using React + SASS + axios + WEBPACK + react-google-maps. 
- Users can type the "Starting Point" and "Drop-off Point" in the Side bar, it will return the data (Markers and Route which generated by Google Map API) which contains the addresses. 
- It support on Desktop / Tablet / Mobile.

### Settings on the Google API and the Mock API
- Users can access the file 'src/utility/constants.jsx' to change the Google Map API KEY, Google Map API Path and the Mock API path.

### Google Map API and Related React Library (Return REAL data).
- Getting Lat and Lng from Google Map Geocode Services
  https://developers.google.com/maps/documentation/geocoding/intro
  using 'react-geocode' for changing the input "Starting Point" and "Drop-off Point" addresses to Lag and Lng.
  
- Display Google Map and include the "Starting Point" and "Drop-off Point" Markers on the Map
  Using 'react-goole-maps' library, GoogleMap, DirectionRenderer, <Marker.
        
        <GoogleMap className="mapContainer" defaultZoom={defaultZoom}
      maxZoom={20} minZoom={8} center={centerPos}
      onReady={this.adjustMap} defaultCenter={new window.google.maps.LatLng(centerPos.lat, centerPos.lng)}>
      
      {fromPos.lat !== 0 && toPos.lat !== 0 && <DirectionRender
        fromPos={fromPos}
        toPos={toPos}
        errors={errors}/>}
        
        { markers.length > 0 && markers.map((marker, index) => {
        
          const lat = parseFloat(marker[0]);
          const lng = parseFloat(marker[1]);
          const iconImg = 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png';
        
          return <Marker
                key={ `marker_${marker[0]}_${marker[1]}` }
                label={{
                    text: (index+1).toString(),
                    fontSize: "14px",
                    color: "#000"
                }}
                icon={{url: iconImg}}
                position={{lat, lng}}
            /> }) }
          </GoogleMap>
   
 - If the addresses are not valid (cannot find the address and return the Lat and Lng), it will empty the input fields and markers. (Same as clicking the Reset button)
  
### Mock API (Dummy data)
1. After users input "Starting Point" and "Drop-off Point" addresses, and click the "Submit" Button. 
2. It will call the API actions, e.g. fetchMapAPI().
4. It will pass the lat and lng to async function postAddressToAPI(fromAddress, toAddress) and it will call the "Post" action to "/route".
3. If it returns success, it will return the token (dummy data).
4. Passing the token for getting the dummy data from API, it will call "getMarkersByToken(token)".
5. If the response status is "success", it will return the path array, and using the 'react-google-maps' library to display the markers on the Map.
6. If the resonse status is not success, and return other error message (even the status is 200), it will display the error message on the Side Bar.

### Improvement
1. Autocomplete - I cannot implement the autocomplete function on the input field, even it returns "ActiviateError" from "Google Map API".
2. Unit Test - Be honestly, I am not familiar with JEST and Enzyme on React testing. It has room to imporve that I can write more test files for testing the components and the axios functions. It just has "App.test.js" right now.
